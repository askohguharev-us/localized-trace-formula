% -----------------------------------------------------------------------------
% House style macros for "Localized Trace Formula: A Monograph"
% Safe for arXiv/Annals toolchains (no fragile \DeclarePairedDelimiter etc.)
% -----------------------------------------------------------------------------

% Theorem-like environments (numbered within section)
\makeatletter
\@ifundefined{theoremstyle}{}{\theoremstyle{plain}}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\@ifundefined{theoremstyle}{}{\theoremstyle{definition}}
\newtheorem{definition}[theorem]{Definition}

\@ifundefined{theoremstyle}{}{\theoremstyle{remark}}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}
\makeatother

% Equation numbering is set in main; keep here as a guard if main forgets it.
\makeatletter
\@ifundefined{c@section}{}{%
  \@addtoreset{equation}{section}%
}
\makeatother
\numberwithin{equation}{section}

% -----------------------------------------------------------------------------
% Safe paired delimiters (robust, no \DeclarePairedDelimiter)
% -----------------------------------------------------------------------------
% Absolute value and norm (auto-scaling)
\newcommand{\abs}[1]{\left\lvert #1\right\rvert}
\newcommand{\norm}[1]{\left\lVert #1\right\rVert}

% Inner product and brackets
\newcommand{\ip}[2]{\left\langle #1,\,#2\right\rangle}
\newcommand{\brackets}[1]{\left[ #1 \right]}
\newcommand{\parens}[1]{\left( #1 \right)}
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}

% Small variants (no autoscale) for subscripts/superscripts
\newcommand{\abs*}[1]{\lvert #1\rvert}
\newcommand{\norm*}[1]{\lVert #1\rVert}
\newcommand{\ip*}[2]{\langle #1,#2\rangle}
\newcommand{\brackets*}[1]{[ #1 ]}
\newcommand{\parens*}[1]{( #1 )}
\newcommand{\set*}[1]{\{ #1 \}}
\newcommand{\floor*}[1]{\lfloor #1 \rfloor}
\newcommand{\ceil*}[1]{\lceil #1 \rceil}

% -----------------------------------------------------------------------------
% Lists: tight enumerates/itemizes (consistent with Annals style)
% -----------------------------------------------------------------------------
\setlist[itemize]{leftmargin=*,itemsep=0.25em,topsep=0.25em}
\setlist[enumerate]{leftmargin=*,itemsep=0.25em,topsep=0.25em}

% -----------------------------------------------------------------------------
% Micro-typographic niceties are provided by microtype in main; nothing more here
% -----------------------------------------------------------------------------

% End of house-style.tex
