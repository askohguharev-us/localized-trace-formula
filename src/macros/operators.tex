% ------------------------------------------------------------
% operators.tex â€” safe operator and macro declarations
% ------------------------------------------------------------
% All declarations are protected against redefinition.
% No compilation errors if included multiple times.

% Basic utilities
\providecommand{\dd}{\,\mathrm{d}}
\providecommand{\ii}{\mathrm{i}}
\providecommand{\ee}{\mathrm{e}}

% Indicator
\providecommand{\1}{\mathbbm{1}}
\providecommand{\ind}{\mathbbm{1}}

% Common sets
\providecommand{\R}{\mathbb{R}}
\providecommand{\C}{\mathbb{C}}
\providecommand{\Z}{\mathbb{Z}}
\providecommand{\N}{\mathbb{N}}
\providecommand{\Hh}{\mathbb{H}}

% Brackets
\providecommand{\abs}[1]{\left\lvert #1\right\rvert}
\providecommand{\norm}[1]{\left\lVert #1\right\rVert}
\providecommand{\inp}[2]{\left\langle #1,\,#2\right\rangle}

% Named operators (declared only if not already defined)
\makeatletter
\@ifundefined{tr}{\DeclareMathOperator{\tr}{tr}}{}
\@ifundefined{Tr}{\DeclareMathOperator{\Tr}{Tr}}{}
\@ifundefined{supp}{\DeclareMathOperator{\supp}{supp}}{}
\@ifundefined{vol}{\DeclareMathOperator{\vol}{vol}}{}
\@ifundefined{dist}{\DeclareMathOperator{\dist}{dist}}{}
\@ifundefined{diam}{\DeclareMathOperator{\diam}{diam}}{}
\@ifundefined{sgn}{\DeclareMathOperator{\sgn}{sgn}}{}
\@ifundefined{Id}{\DeclareMathOperator{\Id}{Id}}{}
\makeatother

% Microlocal notation
\providecommand{\Op}{\operatorname{Op}}
\providecommand{\Oph}{\operatorname{Op}_h}
\providecommand{\Opw}{\operatorname{Op}_h^{\mathrm{w}}}

% Wavefront and spectrum
\providecommand{\WF}{\mathrm{WF}}
\providecommand{\WFh}{\mathrm{WF}_h}
\providecommand{\Spec}{\mathrm{Spec}}

% Differential operators
\providecommand{\grad}{\nabla}
\providecommand{\Lap}{\Delta}
\providecommand{\dA}{\mathrm{d}A}
\providecommand{\dvol}{\mathrm{d}\mathrm{vol}}

% Geometry
\providecommand{\inj}{\mathrm{inj}}
\providecommand{\length}{\ell}
\providecommand{\cl}{\mathrm{cl}}
\providecommand{\Int}{\mathrm{int}}

% Asymptotics
\providecommand{\bigo}{\mathcal{O}}
\providecommand{\smallo}{o}

% Convenient arrows
\providecommand{\xto}[1]{\xrightarrow{#1}}
\providecommand{\tto}{\rightrightarrows}

% Text styles inside math
\providecommand{\st}{\;\text{s.t.}\;}
\providecommand{\where}{\;\text{where}\;}
\providecommand{\wh}{\widehat}
\providecommand{\wt}{\widetilde}
\providecommand{\ol}{\overline}
